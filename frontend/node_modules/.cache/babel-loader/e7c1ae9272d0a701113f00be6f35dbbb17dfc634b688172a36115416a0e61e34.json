{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\singh\\\\OneDrive\\\\Desktop\\\\A_CIPHER\\\\bot\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport SpeechRecognition, { useSpeechRecognition } from \"react-speech-recognition\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [response, setResponse] = useState(\"\");\n  const [listening, setListening] = useState(false);\n  const {\n    transcript,\n    resetTranscript\n  } = useSpeechRecognition();\n  useEffect(() => {\n    const loadVoices = () => {\n      const voices = window.speechSynthesis.getVoices();\n      if (!voices.length) {\n        setTimeout(loadVoices, 100); // Retry until voices are loaded\n      }\n    };\n    loadVoices();\n  }, []);\n  const startListening = () => {\n    setListening(true);\n    SpeechRecognition.startListening({\n      language: \"hi-IN\",\n      continuous: true\n    });\n  };\n  const stopListening = async () => {\n    setListening(false);\n    SpeechRecognition.stopListening();\n    if (transcript.trim()) {\n      try {\n        const res = await axios.post(\"http://localhost:5000/chat\", {\n          message: transcript\n        });\n        const reply = res.data.response;\n        setResponse(reply);\n        speakResponse(reply);\n      } catch (error) {\n        setResponse(\"рдорд╛рдл рдХреАрдЬрд┐рдП, рд╕рд░реНрд╡рд░ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдирд╣реАрдВ рд╣реЛ рд╕рдХрд╛ред\");\n      }\n    }\n  };\n  const speakResponse = text => {\n    const synth = window.speechSynthesis;\n    const speak = () => {\n      const voices = synth.getVoices();\n\n      // тЬЕ Prefer Kalpana voice if available\n      const preferredVoice = voices.find(v => v.name.toLowerCase().includes(\"kalpana\")) || voices.find(v => v.lang === \"hi-IN\");\n      if (!preferredVoice) {\n        console.warn(\"рдХреЛрдИ рдЙрдкрдпреБрдХреНрдд рд╣рд┐рдВрджреА рдЖрд╡рд╛рдЬрд╝ рдирд╣реАрдВ рдорд┐рд▓реАред\");\n        return;\n      }\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.voice = preferredVoice;\n      utterance.lang = \"hi-IN\";\n      utterance.rate = 0.9;\n      utterance.pitch = 1.1;\n      utterance.volume = 1;\n      utterance.onend = () => resetTranscript();\n      synth.cancel(); // Just to be safe\n      synth.speak(utterance);\n    };\n    if (!synth.getVoices().length) {\n      // Just once to make sure voices are loaded\n      window.speechSynthesis.onvoiceschanged = speak;\n    } else {\n      speak();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      marginTop: \"50px\",\n      fontFamily: \"sans-serif\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"\\uD83D\\uDD0A \\u0939\\u093F\\u0902\\u0926\\u0940 \\u091A\\u0948\\u091F\\u092C\\u0949\\u091F - \", /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#c0392b\"\n        },\n        children: \"\\u0935\\u093E\\u0923\\u0940\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startListening,\n        disabled: listening,\n        children: \"\\uD83C\\uDFA4 \\u092C\\u094B\\u0932\\u0928\\u093E \\u0936\\u0941\\u0930\\u0942 \\u0915\\u0930\\u0947\\u0902\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stopListening,\n        disabled: !listening,\n        children: \"\\uD83D\\uDED1 \\u0930\\u094B\\u0915\\u0947\\u0902\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), listening && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"green\"\n      },\n      children: \"\\uD83D\\uDFE2 \\u0938\\u0941\\u0928 \\u0930\\u0939\\u093E \\u0939\\u0942\\u0901...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }, this), transcript && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uD83D\\uDC42 \\u0906\\u092A\\u0928\\u0947 \\u0915\\u0939\\u093E: \", transcript]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 22\n    }, this), response && /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"\\uD83E\\uDDD5 \\u0935\\u093E\\u0923\\u0940: \", response]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"n9OGq4mLPHGiKR5+FRszD6giGJA=\", false, function () {\n  return [useSpeechRecognition];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","SpeechRecognition","useSpeechRecognition","axios","jsxDEV","_jsxDEV","App","_s","response","setResponse","listening","setListening","transcript","resetTranscript","loadVoices","voices","window","speechSynthesis","getVoices","length","setTimeout","startListening","language","continuous","stopListening","trim","res","post","message","reply","data","speakResponse","error","text","synth","speak","preferredVoice","find","v","name","toLowerCase","includes","lang","console","warn","utterance","SpeechSynthesisUtterance","voice","rate","pitch","volume","onend","cancel","onvoiceschanged","style","textAlign","marginTop","fontFamily","children","color","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/singh/OneDrive/Desktop/A_CIPHER/bot/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport SpeechRecognition, { useSpeechRecognition } from \"react-speech-recognition\";\r\nimport axios from \"axios\";\r\n\r\nconst App = () => {\r\n  const [response, setResponse] = useState(\"\");\r\n  const [listening, setListening] = useState(false);\r\n  const { transcript, resetTranscript } = useSpeechRecognition();\r\n\r\n  useEffect(() => {\r\n    const loadVoices = () => {\r\n      const voices = window.speechSynthesis.getVoices();\r\n      if (!voices.length) {\r\n        setTimeout(loadVoices, 100); // Retry until voices are loaded\r\n      }\r\n    };\r\n    loadVoices();\r\n  }, []);\r\n\r\n  const startListening = () => {\r\n    setListening(true);\r\n    SpeechRecognition.startListening({ language: \"hi-IN\", continuous: true });\r\n  };\r\n\r\n  const stopListening = async () => {\r\n    setListening(false);\r\n    SpeechRecognition.stopListening();\r\n\r\n    if (transcript.trim()) {\r\n      try {\r\n        const res = await axios.post(\"http://localhost:5000/chat\", { message: transcript });\r\n        const reply = res.data.response;\r\n        setResponse(reply);\r\n        speakResponse(reply);\r\n      } catch (error) {\r\n        setResponse(\"рдорд╛рдл рдХреАрдЬрд┐рдП, рд╕рд░реНрд╡рд░ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдирд╣реАрдВ рд╣реЛ рд╕рдХрд╛ред\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const speakResponse = (text) => {\r\n    const synth = window.speechSynthesis;\r\n  \r\n    const speak = () => {\r\n      const voices = synth.getVoices();\r\n      \r\n      // тЬЕ Prefer Kalpana voice if available\r\n      const preferredVoice = voices.find(v => v.name.toLowerCase().includes(\"kalpana\"))\r\n        || voices.find(v => v.lang === \"hi-IN\");\r\n  \r\n      if (!preferredVoice) {\r\n        console.warn(\"рдХреЛрдИ рдЙрдкрдпреБрдХреНрдд рд╣рд┐рдВрджреА рдЖрд╡рд╛рдЬрд╝ рдирд╣реАрдВ рдорд┐рд▓реАред\");\r\n        return;\r\n      }\r\n  \r\n      const utterance = new SpeechSynthesisUtterance(text);\r\n      utterance.voice = preferredVoice;\r\n      utterance.lang = \"hi-IN\";\r\n      utterance.rate = 0.9;\r\n      utterance.pitch = 1.1;\r\n      utterance.volume = 1;\r\n  \r\n      utterance.onend = () => resetTranscript();\r\n  \r\n      synth.cancel(); // Just to be safe\r\n      synth.speak(utterance);\r\n    };\r\n  \r\n    if (!synth.getVoices().length) {\r\n      // Just once to make sure voices are loaded\r\n      window.speechSynthesis.onvoiceschanged = speak;\r\n    } else {\r\n      speak();\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div style={{ textAlign: \"center\", marginTop: \"50px\", fontFamily: \"sans-serif\" }}>\r\n      <h2>ЁЯФК рд╣рд┐рдВрджреА рдЪреИрдЯрдмреЙрдЯ - <span style={{ color: \"#c0392b\" }}>рд╡рд╛рдгреА</span></h2>\r\n\r\n      <div>\r\n        <button onClick={startListening} disabled={listening}>ЁЯОд рдмреЛрд▓рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ</button>\r\n        <button onClick={stopListening} disabled={!listening}>ЁЯЫС рд░реЛрдХреЗрдВ</button>\r\n      </div>\r\n\r\n      {listening && <p style={{ color: \"green\" }}>ЁЯЯв рд╕реБрди рд░рд╣рд╛ рд╣реВрдБ...</p>}\r\n      {transcript && <p>ЁЯСВ рдЖрдкрдиреЗ рдХрд╣рд╛: {transcript}</p>}\r\n      {response && <h3>ЁЯзХ рд╡рд╛рдгреА: {response}</h3>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}